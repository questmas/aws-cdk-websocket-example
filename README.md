# AWS CDK Websocket Example

This is an example project for creating a working AWS API Gateway Websocket using CDK.
This example combines the code from https://github.com/aws-samples/simple-websockets-chat-app and https://github.com/aws-samples/aws-cdk-examples/tree/master/typescript/my-widget-service

## Build

To build this app, you need to be in this example's infrastructure folder. Then run the following:

```bash
npm install -g aws-cdk
npm install
npm run build
```

This will install the necessary CDK, then this example's dependencies, and then build your TypeScript files and your CloudFormation template.

## Deploy
This stack uses assets, so the toolkit stack must be deployed to the environment. This can be done by running the following command:

```shell script
cdk bootstrap aws://account-id/aws-region
```

To deploy / redeploy the Stack to your AWS Account, run `cdk deploy`.

After the deployment you will see the API's URL, which represents the url you can then use.

## Synthesize Cloudformation Template

To see the Cloudformation template generated by the CDK, run `cdk synth`, then check the output file in the "cdk.out" directory.